classdef PathFollowingRobot < handle
    properties
        SerialPort
        Waypoints
        CurrentWaypointIndex
        FuzzySystem
        Running
        MapFigure
        PathPlot
        RobotPlot
        WaypointPlot
        LastPositionTime
        PositionHistory
        LinearSpeed = 0.5; % meters per second (adjusted for 255 PWM)
        DeltaT = 0.5; % seconds
        MaxPWM = 255; % Maximum PWM value
    end
    
    methods
        function obj = PathFollowingRobot(portName)
            % Initialize serial port
            obj.SerialPort = serialport(portName, 115200);
            configureTerminator(obj.SerialPort, "LF");
            flush(obj.SerialPort);
            
            % Load waypoints (your waypoints array here)
            obj.Waypoints = [
7.214920000, 124.249217000; 7.214920006, 124.249217231; 7.214920012, 124.249217462;  
7.214920018, 124.249217694; 7.214920024, 124.249217925; 7.214920030, 124.249218156;  
7.214920036, 124.249218387; 7.214920042, 124.249218618; 7.214920048, 124.249218849;  
7.214920054, 124.249219080; 7.214920060, 124.249219311; 7.214920066, 124.249219542;  
7.214920072, 124.249219773; 7.214920078, 124.249220004; 7.214920084, 124.249220235;  
7.214920090, 124.249220466; 7.214920096, 124.249220697; 7.214920102, 124.249220928;  
7.214920108, 124.249221159; 7.214920114, 124.249221390; 7.214920120, 124.249221621;  
7.214920126, 124.249221852; 7.214920132, 124.249222083; 7.214920138, 124.249222314;  
7.214920144, 124.249222545; 7.214920150, 124.249222776; 7.214920156, 124.249223007;  
7.214920162, 124.249223238; 7.214920168, 124.249223469; 7.214920174, 124.249223700;  
7.214920180, 124.249223931; 7.214920186, 124.249224162; 7.214920192, 124.249224393;  
7.214920198, 124.249224624; 7.214920204, 124.249224855; 7.214920210, 124.249225086;  
7.214920216, 124.249225317; 7.214920222, 124.249225548; 7.214920228, 124.249225779;  
7.214920234, 124.249226010; 7.214920240, 124.249226241; 7.214920246, 124.249226472;  
7.214920252, 124.249226703; 7.214920258, 124.249226934; 7.214920264, 124.249227165;  
7.214920270, 124.249227396; 7.214920276, 124.249227627; 7.214920282, 124.249227858;  
7.214920288, 124.249228089; 7.214920294, 124.249228320; 7.214920300, 124.249228551;  
7.214920306, 124.249228782; 7.214920312, 124.249229013; 7.214920318, 124.249229244;  
7.214920324, 124.249229475; 7.214920330, 124.249229706; 7.214920336, 124.249229937;  
7.214920342, 124.249230168; 7.214920348, 124.249230399; 7.214920354, 124.249230630;  
7.214920360, 124.249230861; 7.214920366, 124.249231092; 7.214920372, 124.249231323;  
7.214920378, 124.249231554; 7.214920384, 124.249231785; 7.214920390, 124.249232016;  
7.214920396, 124.249232247; 7.214920402, 124.249232478; 7.214920408, 124.249232709;  
7.214920414, 124.249232940; 7.214920420, 124.249233171; 7.214920426, 124.249233402;  
7.214920432, 124.249233633; 7.214920438, 124.249233864; 7.214920444, 124.249234095;  
7.214920450, 124.249234326; 7.214920456, 124.249234557; 7.214920462, 124.249234788;  
7.214920468, 124.249235019; 7.214920474, 124.249235250; 7.214920480, 124.249235481;  
7.214920486, 124.249235712; 7.214920492, 124.249235943; 7.214920498, 124.249236174;  
7.214920504, 124.249236405; 7.214920510, 124.249236636; 7.214920516, 124.249236867;  
7.214920522, 124.249237098; 7.214920528, 124.249237329; 7.214920534, 124.249237560;  
7.214920540, 124.249237791; 7.214920546, 124.249238022; 7.214920552, 124.249238253;  
7.214920558, 124.249238484; 7.214920564, 124.249238715; 7.214920570, 124.249238946;  
7.214920576, 124.249239177; 7.214920582, 124.249239408; 7.214920588, 124.249239639;  
7.214920594, 124.249239870; 7.214920600, 124.249240101; 7.214920606, 124.249240332;  
7.214920612, 124.249240563; 7.214920618, 124.249240794; 7.214920624, 124.249241025;  
7.214920630, 124.249241256; 7.214920636, 124.249241487; 7.214920642, 124.249241718;  
7.214920648, 124.249241949; 7.214920654, 124.249242180; 7.214920660, 124.249242411;  
7.214920666, 124.249242642; 7.214920672, 124.249242873; 7.214920678, 124.249243104;  
7.214920684, 124.249243335; 7.214920690, 124.249243566; 7.214920696, 124.249243797;  
7.214920702, 124.249244028; 7.214920708, 124.249244259; 7.214920714, 124.249244490;  
7.214920720, 124.249244721; 7.214920726, 124.249244952; 7.214920732, 124.249245183;  
7.214920738, 124.249245414; 7.214920744, 124.249245645; 7.214920750, 124.249245876;  
7.214920756, 124.249246107; 7.214920762, 124.249246338; 7.214920768, 124.249246569;  
7.214920774, 124.249246800; 7.214920780, 124.249247031; 7.214920786, 124.249247262;  
7.214920792, 124.249247493; 7.214920798, 124.249247724; 7.214920804, 124.249247955;  
7.214920810, 124.249248186; 7.214920816, 124.249248417; 7.214920822, 124.249248648;  
7.214920828, 124.249248879; 7.214920834, 124.249249110; 7.214920840, 124.249249341;  
7.214920846, 124.249249572; 7.214920852, 124.249249803; 7.214920858, 124.249250034;  
7.214920864, 124.249250265; 7.214920870, 124.249250496; 7.214920876, 124.249250727;  
7.214920882, 124.249250958; 7.214920888, 124.249251189; 7.214920894, 124.249251420;  
7.214920900, 124.249251651; 7.214920906, 124.249251882; 7.214920912, 124.249252113;  
7.214920918, 124.249252344; 7.214920924, 124.249252575; 7.214920930, 124.249252806;  
7.214920936, 124.249253037; 7.214920942, 124.249253268; 7.214920948, 124.249253499;  
7.214920954, 124.249253730; 7.214920960, 124.249253961; 7.214920966, 124.249254192;  
7.214920972, 124.249254423; 7.214920978, 124.249254654; 7.214920984, 124.249254885;  
7.214920990, 124.249255116; 7.214920996, 124.249255347; 7.214921002, 124.249255578;  
7.214921008, 124.249255809; 7.214921014, 124.249256040; 7.214921020, 124.249256271;  
7.214921026, 124.249256502; 7.214921032, 124.249256733; 7.214921038, 124.249256964;  
7.214921044, 124.249257195; 7.214921050, 124.249257426; 7.214921056, 124.249257657;  
7.214921062, 124.249257888; 7.214921068, 124.249258119; 7.214921074, 124.249258350;  
7.214921080, 124.249258581; 7.214921086, 124.249258812; 7.214921092, 124.249259043;  
7.214921098, 124.249259274; 7.214921104, 124.249259505; 7.214921110, 124.249259736;  
7.214921116, 124.249259967; 7.214921122, 124.249260198; 7.214921128, 124.249260429;  
7.214921134, 124.249260660; 7.214921140, 124.249260891; 7.214921146, 124.249261122;  
7.214921152, 124.249261353; 7.214921158, 124.249261584; 7.214921164, 124.249261815;  
7.214921170, 124.249262046; 7.214921176, 124.249262277; 7.214921182, 124.249262508;  
7.214921188, 124.249262739; 7.214921194, 124.249262970; 7.214921200, 124.249263201;  
7.214921206, 124.249263432; 7.214921212, 124.249263663; 7.214921218, 124.249263894;  
7.214921224, 124.249264125; 7.214921230, 124.249264356; 7.214921236, 124.249264587;  
7.214921242, 124.249264818; 7.214921248, 124.249265049; 7.214921254, 124.249265280;  
7.214921260, 124.249265511; 7.214921266, 124.249265742; 7.214921272, 124.249265973;  
7.214921278, 124.249266204; 7.214921284, 124.249266435; 7.214921290, 124.249266666;  
7.214921296, 124.249266897; 7.214921302, 124.249267128; 7.214921308, 124.249267359;  
7.214921314, 124.249267590; 7.214921320, 124.249267821; 7.214921326, 124.249268052;  
7.214921332, 124.249268283; 7.214921338, 124.249268514; 7.214921344, 124.249268745;  
7.214921350, 124.249268976; 7.214921356, 124.249269207; 7.214921362, 124.249269438;  
7.214921368, 124.249269669; 7.214921374, 124.249269900; 7.214921380, 124.249270131;  
7.214921386, 124.249270362; 7.214921392, 124.249270593; 7.214921398, 124.249270824;  
7.214921404, 124.249271055; 7.214921410, 124.249271286; 7.214921416, 124.249271517;  
7.214921422, 124.249271748; 7.214921428, 124.249271979; 7.214921434, 124.249272210;  
7.214921440, 124.249272441; 7.214921446, 124.249272672; 7.214921452, 124.249272903;  
7.214921458, 124.249273134; 7.214921464, 124.249273365; 7.214921470, 124.249273596;  
7.214921476, 124.249273827; 7.214921482, 124.249274058; 7.214921488, 124.249274289;  
7.214921494, 124.249274520; 7.214921500, 124.249274751; 7.214921506, 124.249274982;  
7.214921512, 124.249275213; 7.214921518, 124.249275444; 7.214921524, 124.249275675;  
7.214921530, 124.249275906; 7.214921536, 124.249276137; 7.214921542, 124.249276368;  
7.214921548, 124.249276599; 7.214921554, 124.249276830; 7.214921560, 124.249277061;  
7.214921566, 124.249277292; 7.214921572, 124.249277523; 7.214921578, 124.249277754;  
7.214921584, 124.249277985; 7.214921590, 124.249278216; 7.214921596, 124.249278447;  
7.214921602, 124.249278678; 7.214921608, 124.249278909; 7.214921614, 124.249279140;  
7.214921620, 124.249279371; 7.214921626, 124.249279602; 7.214921632, 124.249279833;  
7.214921638, 124.249280064; 7.214921644, 124.249280295; 7.214921650, 124.249280526;  
7.214921656, 124.249280757; 7.214921662, 124.249280988; 7.214921668, 124.249281219;  
7.214921674, 124.249281450; 7.214921680, 124.249281681; 7.214921686, 124.249281912;  
7.214921692, 124.249282143; 7.214921698, 124.249282374; 7.214921704, 124.249282605;  
7.214921710, 124.249282836; 7.214921716, 124.249283067; 7.214921722, 124.249283298;  
7.214921728, 124.249283529; 7.214921734, 124.249283760; 7.214921740, 124.249283991;  
7.214921746, 124.249284222; 7.214921752, 124.249284453; 7.214921758, 124.249284684;  
7.214921764, 124.249284915; 7.214921770, 124.249285146; 7.214921776, 124.249285377;  
7.214921782, 124.249285608; 7.214921788, 124.249285839; 7.214921794, 124.249286070;  
7.214921800, 124.249286301; 7.214921806, 124.249286532; 7.214921812, 124.249286763;  
7.214921818, 124.249286994; 7.214921824, 124.249287225; 7.214921830, 124.249287456;  
7.214921836, 124.249287687; 7.214921842, 124.249287918; 7.214921848, 124.249288149;  
7.214921854, 124.249288380; 7.214921860, 124.249288611; 7.214921866, 124.249288842;  
7.214921872, 124.249289073; 7.214921878, 124.249289304; 7.214921884, 124.249289535;  
7.214921890, 124.249289766; 7.214921896, 124.249289997; 7.214921902, 124.249290228;  
7.214921908, 124.249290459; 7.214921914, 124.249290690; 7.214921920, 124.249290921;  
7.214921926, 124.249291152; 7.214921932, 124.249291383; 7.214921938, 124.249291614;  
7.214921944, 124.249291845; 7.214921950, 124.249292076; 7.214921956, 124.249292307;  
7.214921962, 124.249292538; 7.214921968, 124.249292769; 7.214921974, 124.249293000;  
7.214921980, 124.249293231; 7.214921986, 124.249293462; 7.214921992, 124.249293693;  
7.214921998, 124.249293924; 7.214922004, 124.249294155; 7.214922010, 124.249294386;  
7.214922016, 124.249294617; 7.214922022, 124.249294848; 7.214922028, 124.249295079;  
7.214922034, 124.249295310; 7.214922040, 124.249295541; 7.214922046, 124.249295772;  
7.214922052, 124.249296003; 7.214922058, 124.249296234; 7.214922064, 124.249296465;  
7.214922070, 124.249296696; 7.214922076, 124.249296927; 7.214922082, 124.249297158;  
7.214922088, 124.249297389; 7.214922094, 124.249297620; 7.214922100, 124.249297851;  
7.214922106, 124.249298082; 7.214922112, 124.249298313; 7.214922118, 124.249298544;  
7.214922124, 124.249298775; 7.214922130, 124.249299006; 7.214922136, 124.249299237;  
7.214922142, 124.249299468; 7.214922148, 124.249299699; 7.214922154, 124.249299930;  
7.214922160, 124.249300161; 7.214922166, 124.249300392; 7.214922172, 124.249300623;  
7.214922178, 124.249300854; 7.214922184, 124.249301085; 7.214922190, 124.249301316;  
7.214922196, 124.249301547; 7.214922202, 124.249301778; 7.214922208, 124.249302009;  
7.214922214, 124.249302240; 7.214922220, 124.249302471; 7.214922226, 124.249302702;  
7.214922232, 124.249302933; 7.214922238, 124.249303164; 7.214922244, 124.249303395;  
7.214922250, 124.249303626; 7.214922256, 124.249303857; 7.214922262, 124.249304088;  
7.214922268, 124.249304319; 7.214922274, 124.249304550; 7.214922280, 124.249304781;  
7.214922286, 124.249305012; 7.214922292, 124.249305243; 7.214922298, 124.249305474;  
7.214922304, 124.249305705; 7.214922310, 124.249305936; 7.214922316, 124.249306167;  
7.214922322, 124.249306398; 7.214922328, 124.249306629; 7.214922334, 124.249306860;  
7.214922340, 124.249307091; 7.214922346, 124.249307322; 7.214922352, 124.249307553;  
7.214922358, 124.249307784; 7.214922364, 124.249308015; 7.214922370, 124.249308246;  
7.214922376, 124.249308477; 7.214922382, 124.249308708; 7.214922388, 124.249308939;  
7.214922394, 124.249309170; 7.214922400, 124.249309401; 7.214922406, 124.249309632;  
7.214922412, 124.249309863; 7.214922418, 124.249310094; 7.214922424, 124.249310325;  
7.214922430, 124.249310556; 7.214922436, 124.249310787; 7.214922442, 124.249311018;  
7.214922448, 124.249311249; 7.214922454, 124.249311480; 7.214922460, 124.249311711;  
7.214922466, 124.249311942; 7.214922472, 124.249312173; 7.214922478, 124.249312404;  
7.214922484, 124.249312635; 7.214922490, 124.249312866; 7.214922496, 124.249313097;  
7.214922502, 124.249313328; 7.214922508, 124.249313559; 7.214922514, 124.249313790;  
7.214922520, 124.249314021; 7.214922526, 124.249314252; 7.214922532, 124.249314483;  
7.214922538, 124.249314714; 7.214922544, 124.249314945; 7.214922550, 124.249315176;  
7.214922556, 124.249315407; 7.214922562, 124.249315638; 7.214922568, 124.249315869;  
7.214922574, 124.249316100; 7.214922580, 124.249316331; 7.214922586, 124.249316562;  
7.214922592, 124.249316793; 7.214922598, 124.249317024; 7.214922604, 124.249317255;  
7.214922610, 124.249317486; 7.214922616, 124.249317717; 7.214922622, 124.249317948;  
7.214922628, 124.249318179; 7.214922634, 124.249318410; 7.214922640, 124.249318641;  
7.214922646, 124.249318872; 7.214922652, 124.249319103; 7.214922658, 124.249319334;  
7.214922664, 124.249319565; 7.214922670, 124.249319796; 7.214922676, 124.249320027;  
7.214922682, 124.249320258; 7.214922688, 124.249320489; 7.214922694, 124.249320720;  
7.214922700, 124.249320951; 7.214922706, 124.249321182; 7.214922712, 124.249321413;  
7.214922718, 124.249321644; 7.214922724, 124.249321875; 7.214922730, 124.249322106;  
7.214922736, 124.249322337; 7.214922742, 124.249322568; 7.214922748, 124.249322799;  
7.214922754, 124.249323030; 7.214922760, 124.249323261; 7.214922766, 124.249323492;  
7.214922772, 124.249323723; 7.214922778, 124.249323954; 7.214922784, 124.249324185;  
7.214922790, 124.249324416; 7.214922796, 124.249324647; 7.214922802, 124.249324878;  
7.214922808, 124.249325109; 7.214922814, 124.249325340; 7.214922820, 124.249325571;  
7.214922826, 124.249325802; 7.214922832, 124.249326033; 7.214922838, 124.249326264;  
7.214922844, 124.249326495; 7.214922850, 124.249326726; 7.214922856, 124.249326957;  
7.214922862, 124.249327188; 7.214922868, 124.249327419; 7.214922874, 124.249327650;  
7.214922880, 124.249327881; 7.214922886, 124.249328112; 7.214922892, 124.249328343;  
7.214922898, 124.249328574; 7.214922904, 124.249328805; 7.214922910, 124.249329036;  
7.214922916, 124.249329267; 7.214922922, 124.249329498; 7.214922928, 124.249329729;  
7.214922934, 124.249329960; 7.214922940, 124.249330191; 7.214922946, 124.249330422;  
7.214922952, 124.249330653; 7.214922958, 124.249330884; 7.214922964, 124.249331115;  
7.214922970, 124.249331346; 7.214922976, 124.249331577; 7.214922982, 124.249331808;  
7.214922988, 124.249332039; 7.214922994, 124.249332270; 7.214923000, 124.249332501;  
7.214923006, 124.249332732; 7.214923012, 124.249332963; 7.214923018, 124.249333194;  
7.214923024, 124.249333425; 7.214923030, 124.249333656; 7.214923036, 124.249333887;  
7.214923042, 124.249334118; 7.214923048, 124.249334349; 7.214923054, 124.249334580;  
7.214923060, 124.249334811; 7.214923066, 124.249335042; 7.214923072, 124.249335273;  
7.214923078, 124.249335504; 7.214923084, 124.249335735; 7.214923090, 124.249335966;  
7.214923096, 124.249336197; 7.214923102, 124.249336428; 7.214923108, 124.249336659;  
7.214923114, 124.249336890; 7.214923120, 124.249337121; 7.214923126, 124.249337352;  
7.214923132, 124.249337583; 7.214923138, 124.249337814; 7.214923144, 124.249338045;  
7.214923150, 124.249338276; 7.214923156, 124.249338507; 7.214923162, 124.249338738;  
7.214923168, 124.249338969; 7.214923174, 124.249339200; 7.214923180, 124.249339431;  
7.214923186, 124.249339662; 7.214923192, 124.249339893; 7.214923198, 124.249340124;  
7.214923204, 124.249340355; 7.214923210, 124.249340586; 7.214923216, 124.249340817;  
7.214923222, 124.249341048; 7.214923228, 124.249341279; 7.214923234, 124.249341510;  
7.214923240, 124.249341741; 7.214923246, 124.249341972; 7.214923252, 124.249342203;  
7.214923258, 124.249342434; 7.214923264, 124.249342665; 7.214923270, 124.249342896;  
7.214923276, 124.249343127; 7.214923282, 124.249343358; 7.214923288, 124.249343589;  
7.214923294, 124.249343820; 7.214923300, 124.249344051; 7.214923306, 124.249344282;  
7.214923312, 124.249344513; 7.214923318, 124.249344744; 7.214923324, 124.249344975;  
7.214923330, 124.249345206; 7.214923336, 124.249345437; 7.214923342, 124.249345668;  
7.214923348, 124.249345899; 7.214923354, 124.249346130; 7.214923360, 124.249346361;  
7.214923366, 124.249346592; 7.214923372, 124.249346823; 7.214923378, 124.249347054;  
7.214923384, 124.249347285; 7.214923390, 124.249347516; 7.214923396, 124.249347747;  
7.214923402, 124.249347978; 7.214923408, 124.249348209; 7.214923414, 124.249348440;  
7.214923420, 124.249348671; 7.214923426, 124.249348902; 7.214923432, 124.249349133;  
7.214923438, 124.249349364; 7.214923444, 124.249349595; 7.214923450, 124.249349826;  
7.214923456, 124.249350057; 7.214923462, 124.249350288; 7.214923468, 124.249350519;  
7.214923474, 124.249350750; 7.214923480, 124.249350981; 7.214923486, 124.249351212;  
7.214923492, 124.249351443; 7.214923498, 124.249351674; 7.214923504, 124.249351905;  
7.214923510, 124.249352136; 7.214923516, 124.249352367; 7.214923522, 124.249352598;  
7.214923528, 124.249352829; 7.214923534, 124.249353060; 7.214923540, 124.249353291;  
7.214923546, 124.249353522; 7.214923552, 124.249353753; 7.214923558, 124.249353984;  
7.214923564, 124.249354215; 7.214923570, 124.249354446; 7.214923576, 124.249354677;  
7.214923582, 124.249354908; 7.214923588, 124.249355139; 7.214923594, 124.249355370;  
7.214923600, 124.249355601; 7.214923606, 124.249355832; 7.214923612, 124.249356063;  
7.214923618, 124.249356294; 7.214923624, 124.249356525; 7.214923630, 124.249356756;  
7.214923636, 124.249356987; 7.214923642, 124.249357218; 7.214923648, 124.249357449;  
7.214923654, 124.249357680; 7.214923660, 124.249357911; 7.214923666, 124.249358142;  
7.214923672, 124.249358373; 7.214923678, 124.249358604; 7.214923684, 124.249358835;  
7.214923690, 124.249359066; 7.214923696, 124.249359297; 7.214923702, 124.249359528;  
7.214923708, 124.249359759; 7.214923714, 124.249359990; 7.214923720, 124.249360221;  
7.214923726, 124.249360452; 7.214923732, 124.249360683; 7.214923738, 124.249360914;  
7.214923744, 124.249361145; 7.214923750, 124.249361376; 7.214923756, 124.249361607;  
7.214923762, 124.249361838; 7.214923768, 124.249362069; 7.214923774, 124.249362300;  
7.214923780, 124.249362531; 7.214923786, 124.249362762; 7.214923792, 124.249362993;  
7.214923798, 124.249363224; 7.214923804, 124.249363455; 7.214923810, 124.249363686;  
7.214923816, 124.249363917; 7.214923822, 124.249364148; 7.214923828, 124.249364379;  
7.214923834, 124.249364610; 7.214923840, 124.249364841; 7.214923846, 124.249365072;  
7.214923852, 124.249365303; 7.214923858, 124.249365534; 7.214923864, 124.249365765;  
7.214923870, 124.249365996; 7.214923876, 124.249366227; 7.214923882, 124.249366458;  
7.214923888, 124.249366689; 7.214923894, 124.249366920; 7.214923900, 124.249367151;  
7.214923906, 124.249367382; 7.214923912, 124.249367613; 7.214923918, 124.249367844;  
7.214923924, 124.249368075; 7.214923930, 124.249368306; 7.214923936, 124.249368537;  
7.214923942, 124.249368768; 7.214923948, 124.249368999; 7.214923954, 124.249369230;  
7.214923960, 124.249369461; 7.214923966, 124.249369692; 7.214923972, 124.249369923;  
7.214923978, 124.249370154; 7.214923984, 124.249370385; 7.214923990, 124.249370616;  
7.214923996, 124.249370847; 7.214924002, 124.249371078; 7.214924008, 124.249371309;  
7.214924014, 124.249371540; 7.214924020, 124.249371771; 7.214924026, 124.249372002;  
7.214924032, 124.249372233; 7.214924038, 124.249372464; 7.214924044, 124.249372695;  
7.214924050, 124.249372926; 7.214924056, 124.249373157; 7.214924062, 124.249373388;  
7.214924068, 124.249373619; 7.214924074, 124.249373850; 7.214924080, 124.249374081;  
7.214924086, 124.249374312; 7.214924092, 124.249374543; 7.214924098, 124.249374774;  
7.214924104, 124.249375005; 7.214924110, 124.249375236; 7.214924116, 124.249375467;  
7.214924122, 124.249375698; 7.214924128, 124.249375929; 7.214924134, 124.249376160;  
7.214924140, 124.249376391; 7.214924146, 124.249376622; 7.214924152, 124.249376853;  
7.214924158, 124.249377084; 7.214924164, 124.249377315; 7.214924170, 124.249377546;  
7.214924176, 124.249377777; 7.214924182, 124.249378008; 7.214924188, 124.249378239;  
7.214924194, 124.249378470; 7.214924200, 124.249378701; 7.214924206, 124.249378932;  
7.214924212, 124.249379163; 7.214924218, 124.249379394; 7.214924224, 124.249379625;  
7.214924230, 124.249379856; 7.214924236, 124.249380087; 7.214924242, 124.249380318;  
7.214924248, 124.249380549; 7.214924254, 124.249380780; 7.214924260, 124.249381011;  
7.214924266, 124.249381242; 7.214924272, 124.249381473; 7.214924278, 124.249381704;  
7.214924284, 124.249381935; 7.214924290, 124.249382166; 7.214924296, 124.249382397;  
7.214924302, 124.249382628; 7.214924308, 124.249382859; 7.214924314, 124.249383090;  
7.214924320, 124.249383321; 7.214924326, 124.249383552; 7.214924332, 124.249383783;  
7.214924338, 124.249384014; 7.214924344, 124.249384245; 7.214924350, 124.249384476;  
7.214924356, 124.249384707; 7.214924362, 124.249384938; 7.214924368, 124.249385169;  
7.214924374, 124.249385400; 7.214924380, 124.249385631; 7.214924386, 124.249385862;  
7.214924392, 124.249386093; 7.214924398, 124.249386324; 7.214924404, 124.249386555;  
7.214924410, 124.249386786; 7.214924416, 124.249387017; 7.214924422, 124.249387248;  
7.214924428, 124.249387479; 7.214924434, 124.249387710; 7.214924440, 124.249387941;  
7.214924446, 124.249388172; 7.214924452, 124.249388403; 7.214924458, 124.249388634;  
7.214924464, 124.249388865; 7.214924470, 124.249389096; 7.214924476, 124.249389327;  
7.214924482, 124.249389558; 7.214924488, 124.249389789; 7.214924494, 124.249390020;  
7.214924500, 124.249390251; 7.214924506, 124.249390482; 7.214924512, 124.249390713;  
7.214924518, 124.249390944; 7.214924524, 124.249391175; 7.214924530, 124.249391406;  
7.214924536, 124.249391637; 7.214924542, 124.249391868; 7.214924548, 124.249392099;  
7.214924554, 124.249392330; 7.214924560, 124.249392561; 7.214924566, 124.249392792;  
7.214924572, 124.249393023; 7.214924578, 124.249393254; 7.214924584, 124.249393485;  
7.214924590, 124.249393716; 7.214924596, 124.249393947; 7.214924602, 124.249394178;  
7.214924608, 124.249394409; 7.214924614, 124.249394640; 7.214924620, 124.249394871;  
7.214924626, 124.249395102; 7.214924632, 124.249395333; 7.214924638, 124.249395564;  
7.214924644, 124.249395795; 7.214924650, 124.249396026; 7.214924656, 124.249396257;  
7.214924662, 124.249396488; 7.214924668, 124.249396719; 7.214924674, 124.249396950;  
7.214924680, 124.249397181; 7.214924686, 124.249397412; 7.214924692, 124.249397643;  
7.214924698, 124.249397874; 7.214924704, 124.249398105; 7.214924710, 124.249398336;  
7.214924716, 124.249398567; 7.214924722, 124.249398798; 7.214924728, 124.249399029;  
7.214924734, 124.249399260; 7.214924740, 124.249399491; 7.214924746, 124.249399722;  
7.214924752, 124.249399953; 7.214924758, 124.249400184; 7.214924764, 124.249400415;  
7.214924770, 124.249400646; 7.214924776, 124.249400877; 7.214924782, 124.249401108;  
7.214924788, 124.249401339; 7.214924794, 124.249401570; 7.214924800, 124.249401801;  
7.214924806, 124.249402032; 7.214924812, 124.249402263; 7.214924818, 124.249402494;  
7.214924824, 124.249402725; 7.214924830, 124.249402956; 7.214924836, 124.249403187;  
7.214924842, 124.249403418; 7.214924848, 124.249403649; 7.214924854, 124.249403880;  
7.214924860, 124.249404111; 7.214924866, 124.249404342; 7.214924872, 124.249404573;  
7.214924878, 124.249404804; 7.214924884, 124.249405035; 7.214924890, 124.249405266;  
7.214924896, 124.249405497; 7.214924902, 124.249405728; 7.214924908, 124.249405959;  
7.214924914, 124.249406190; 7.214924920, 124.249406421; 7.214924926, 124.249406652;  
7.214924932, 124.249406883; 7.214924938, 124.249407114; 7.214924944, 124.249407345;  
7.214924950, 124.249407576; 7.214924956, 124.249407807; 7.214924962, 124.249408038;  
7.214924968, 124.249408269; 7.214924974, 124.249408500; 7.214924980, 124.249408731;  
7.214924986, 124.249408962; 7.214924992, 124.249409193; 7.214924998, 124.249409424;  
7.214925004, 124.249409655; 7.214925010, 124.249409886; 7.214925016, 124.249410117;  
7.214925022, 124.249410348; 7.214925028, 124.249410579; 7.214925034, 124.249410810;  
7.214925040, 124.249411041; 7.214925046, 124.249411272; 7.214925052, 124.249411503;  
7.214925058, 124.249411734; 7.214925064, 124.249411965; 7.214925070, 124.249412196;  
7.214925076, 124.249412427; 7.214925082, 124.249412658; 7.214925088, 124.249412889;  
7.214925094, 124.249413120; 7.214925100, 124.249413351; 7.214925106, 124.249413582;  
7.214925112, 124.249413813; 7.214925118, 124.249414044; 7.214925124, 124.249414275;  
7.214925130, 124.249414506; 7.214925136, 124.249414737; 7.214925142, 124.249414968;  
7.214925148, 124.249415199; 7.214925154, 124.249415430; 7.214925160, 124.249415661;  
7.214925166, 124.249415892; 7.214925172, 124.249416123; 7.214925178, 124.249416354;  
7.214925184, 124.249416585; 7.214925190, 124.249416816; 7.214925196, 124.249417047;  
7.214925202, 124.249417278; 7.214925208, 124.249417509; 7.214925214, 124.249417740;  
7.214925220, 124.249417971; 7.214925226, 124.249418202; 7.214925232, 124.249418433;  
7.214925238, 124.249418664; 7.214925244, 124.249418895; 7.214925250, 124.249419126;  
7.214925256, 124.249419357; 7.214925262, 124.249419588; 7.214925268, 124.249419819;  
7.214925274, 124.249420050; 7.214925280, 124.249420281; 7.214925286, 124.249420512;  
7.214925292, 124.249420743; 7.214925298, 124.249420974; 7.214925304, 124.249421205;  
7.214925310, 124.249421436; 7.214925316, 124.249421667; 7.214925322, 124.249421898;  
7.214925328, 124.249422129; 7.214925334, 124.249422360; 7.214925340, 124.249422591;  
7.214925346, 124.249422822; 7.214925352, 124.249423053; 7.214925358, 124.249423284;  
7.214925364, 124.249423515; 7.214925370, 124.249423746; 7.214925376, 124.249423977;  
7.214925382, 124.249424208; 7.214925388, 124.249424439; 7.214925394, 124.249424670;  
7.214925400, 124.249424901; 7.214925406, 124.249425132; 7.214925412, 124.249425363;  
7.214925418, 124.249425594; 7.214925424, 124.249425825; 7.214925430, 124.249426056;  
7.214925436, 124.249426287; 7.214925442, 124.249426518; 7.214925448, 124.249426749;  
7.214925454, 124.249426980; 7.214925460, 124.249427211; 7.214925466, 124.249427442;  
7.214925472, 124.249427673; 7.214925478, 124.249427904; 7.214925484, 124.249428135;  
7.214925490, 124.249428366; 7.214925496, 124.249428597; 7.214925502, 124.249428828;  
7.214925508, 124.249429059; 7.214925514, 124.249429290; 7.214925520, 124.249429521;  
7.214925526, 124.249429752; 7.214925532, 124.249429983; 7.214925538, 124.249430214;  
7.214925544, 124.249430445; 7.214925550, 124.249430676; 7.214925556, 124.249430907;  
7.214925562, 124.249431138; 7.214925568, 124.249431369; 7.214925574, 124.249431600;  
7.214925580, 124.249431831; 7.214925586, 124.249432062; 7.214925592, 124.249432293;  
7.214925598, 124.249432524; 7.214925604, 124.249432755; 7.214925610, 124.249432986;  
7.214925616, 124.249433217; 7.214925622, 124.249433448; 7.214925628, 124.249433679;  
7.214925634, 124.249433910; 7.214925640, 124.249434141; 7.214925646, 124.249434372;  
7.214925652, 124.249434603; 7.214925658, 124.249434834; 7.214925664, 124.249435065;  
7.214925670, 124.249435296; 7.214925676, 124.249435527; 7.214925682, 124.249435758;  
7.214925688, 124.249435989; 7.214925694, 124.249436220; 7.214925700, 124.249436451;  
7.214925706, 124.249436682; 7.214925712, 124.249436913; 7.214925718, 124.249437144;  
7.214925724, 124.249437375; 7.214925730, 124.249437606; 7.214925736, 124.249437837;  
7.214925742, 124.249438068; 7.214925748, 124.249438299; 7.214925754, 124.249438530;  
7.214925760, 124.249438761; 7.214925766, 124.249438992; 7.214925772, 124.249439223;  
7.214925778, 124.249439454; 7.214925784, 124.249439685; 7.214925790, 124.249439916;  
7.214925796, 124.249440147; 7.214925802, 124.249440378; 7.214925808, 124.249440609;  
7.214925814, 124.249440840; 7.214925820, 124.249441071; 7.214925826, 124.249441302;  
7.214925832, 124.249441533; 7.214925838, 124.249441764; 7.214925844, 124.249441995;  
7.214925850, 124.249442226; 7.214925856, 124.249442457; 7.214925862, 124.249442688;  
7.214925868, 124.249442919; 7.214925874, 124.249443150; 7.214925880, 124.249443381;  
7.214925886, 124.249443612; 7.214925892, 124.249443843; 7.214925898, 124.249444074;  
7.214925904, 124.249444305; 7.214925910, 124.249444536; 7.214925916, 124.249444767;  
7.214925922, 124.249444998; 7.214925928, 124.249445229; 7.214925934, 124.249445460;  
7.214925940, 124.249445691; 7.214925946, 124.249445922; 7.214925952, 124.249446153;  
7.214925958, 124.249446384; 7.214925964, 124.249446615; 7.214925970, 124.249446846;  
7.214925976, 124.249447077; 7.214925982, 124.249447308; 7.214925988, 124.249447539;  
7.214925994, 124.249447770; 7.214926000, 124.249448001; 7.214926006, 124.249448232;  
7.214926012, 124.249448463; 7.214926018, 124.249448694; 7.214926024, 124.249448925;  
7.214926030, 124.249449156; 7.214926036, 124.249449387; 7.214926042, 124.249449618;  
7.214926048, 124.249449849; 7.214926054, 124.249450080; 7.214926060, 124.249450311;  
7.214926066, 124.249450542; 7.214926072, 124.249450773; 7.214926078, 124.249451004;  
7.214926084, 124.249451235; 7.214926090, 124.249451466; 7.214926096, 124.249451697;  
7.214926102, 124.249451928; 7.214926108, 124.249452159; 7.214926114, 124.249452390;  
7.214926120, 124.249452621; 7.214926126, 124.249452852; 7.214926132, 124.249453083;  
7.214926138, 124.249453314; 7.214926144, 124.249453545; 7.214926150, 124.249453776;  
7.214926156, 124.249454007; 7.214926162, 124.249454238; 7.214926168, 124.249454469;  
7.214926174, 124.249454700; 7.214926180, 124.249454931; 7.214926186, 124.249455162;  
7.214926192, 124.249455393; 7.214926198, 124.249455624; 7.214926204, 124.249455855;  
7.214926210, 124.249456086; 7.214926216, 124.249456317; 7.214926222, 124.249456548;  
7.214926228, 124.249456779; 7.214926234, 124.249457010; 7.214926240, 124.249457241;  
7.214926246, 124.249457472; 7.214926252, 124.249457703; 7.214926258, 124.249457934;  
7.214926264, 124.249458165; 7.214926270, 124.249458396; 7.214926276, 124.249458627;  
7.214926282, 124.249458858; 7.214926288, 124.249459089; 7.214926294, 124.249459320;  
7.214926300, 124.249459551; 7.214926306, 124.249459782; 7.214926312, 124.249460013;  
7.214926318, 124.249460244; 7.214926324, 124.249460475; 7.214926330, 124.249460706;  
7.214926336, 124.249460937; 7.214926342, 124.249461168; 7.214926348, 124.249461399;  
7.214926354, 124.249461630; 7.214926360, 124.249461861; 7.214926366, 124.249462092;  
7.214926372, 124.249462323; 7.214926378, 124.249462554; 7.214926384, 124.249462785;  
7.214926390, 124.249463016; 7.214926396, 124.249463247; 7.214926402, 124.249463478;  
7.214926408, 124.249463709; 7.214926414, 124.249463940; 7.214926420, 124.249464171;  
7.214926426, 124.249464402; 7.214926432, 124.249464633; 7.214926438, 124.249464864;  
7.214926444, 124.249465095; 7.214926450, 124.249465326; 7.214926456, 124.249465557;  
7.214926462, 124.249465788; 7.214926468, 124.249466019; 7.214926474, 124.249466250;  
7.214926480, 124.249466481; 7.214926486, 124.249466712; 7.214926492, 124.249466943;  
7.214926498, 124.249467174; 7.214926504, 124.249467405; 7.214926510, 124.249467636;  
7.214926516, 124.249467867; 7.214926522, 124.249468098; 7.214926528, 124.249468329;  
7.214926534, 124.249468560; 7.214926540, 124.249468791; 7.214926546, 124.249469022;  
7.214926552, 124.249469253; 7.214926558, 124.249469484; 7.214926564, 124.249469715;  
7.214926570, 124.249469946; 7.214926576, 124.249470177; 7.214926582, 124.249470408;  
7.214926588, 124.249470639; 7.214926594, 124.249470870; 7.214926600, 124.249471101;  
7.214926606, 124.249471332; 7.214926612, 124.249471563; 7.214926618, 124.249471794;  
7.214926624, 124.249472025; 7.214926630, 124.249472256; 7.214926636, 124.249472487;  
7.214926642, 124.249472718; 7.214926648, 124.249472949; 7.214926654, 124.249473180;  
7.214926660, 124.249473411; 7.214926666, 124.249473642; 7.214926672, 124.249473873;  
7.214926678, 124.249474104; 7.214926684, 124.249474335; 7.214926690, 124.249474566;  
7.214926696, 124.249474797; 7.214926702, 124.249475028; 7.214926708, 124.249475259;  
7.214926714, 124.249475490; 7.214926720, 124.249475721; 7.214926726, 124.249475952;  
7.214926732, 124.249476183; 7.214926738, 124.249476414; 7.214926744, 124.249476645;  
7.214926750, 124.249476876; 7.214926756, 124.249477107; 7.214926762, 124.249477338;  
7.214926768, 124.249477569; 7.214926774, 124.249477800; 7.214926780, 124.249478031;  
7.214926786, 124.249478262; 7.214926792, 124.249478493; 7.214926798, 124.249478724;  
7.214926804, 124.249478955; 7.214926810, 124.249479186; 7.214926816, 124.249479417;  
7.214926822, 124.249479648; 7.214926828, 124.249479879; 7.214926834, 124.249480110;  
7.214926840, 124.249480341; 7.214926846, 124.249480572; 7.214926852, 124.249480803;  
7.214926858, 124.249481034; 7.214926864, 124.249481265; 7.214926870, 124.249481496;  
7.214926876, 124.249481727; 7.214926882, 124.249481958; 7.214926888, 124.249482189;  
7.214926894, 124.249482420; 7.214926900, 124.249482651; 7.214926906, 124.249482882;  
7.214926912, 124.249483113; 7.214926918, 124.249483344; 7.214926924, 124.249483575;
7.214926930, 124.249483806; 7.214926936, 124.249484037; 7.214926942, 124.249484268;
7.214926948, 124.249484499; 7.214926954, 124.249484730; 7.214926960, 124.249484961;
7.214926966, 124.249485192; 7.214926972, 124.249485423; 7.214926978, 124.249485654; 
7.214926984, 124.249485885; 7.214926990, 124.249486116; 7.214926996, 124.249486347; 
7.214927002, 124.249486578; 7.214927008, 124.249486809; 7.214927014, 124.249487040;
7.214927020, 124.249487271; 7.214927026, 124.249487502; 7.214927032, 124.249487733;
7.214927038, 124.249487964; 7.214927044, 124.249488195; 7.214927050, 124.249488426;
7.214927056, 124.249488657; 7.214927062, 124.249488888; 7.214927068, 124.249489119; 
7.214927074, 124.249489350; 7.214927080, 124.249489581; 7.214927086, 124.249489812;
7.214927092, 124.249490043; 7.214927098, 124.249490274; 7.214927104, 124.249490505;
7.214927110, 124.249490736; 7.214927116, 124.249490967; 7.214927122, 124.249491198;
7.214927128, 124.249491429; 7.214927134, 124.249491660; 7.214927140, 124.249491891;
7.214927146, 124.249492122; 7.214927152, 124.249492353; 7.214927158, 124.249492584;
7.214927164, 124.249492815; 7.214927170, 124.249493046; 7.214927176, 124.249493277;
7.214927182, 124.249493508; 7.214927188, 124.249493739; 7.214927194, 124.249493970;
7.214927200, 124.249494201; 7.214927206, 124.249494432; 7.214927212, 124.249494663;
7.214927218, 124.249494894; 7.214927224, 124.249495125; 7.214927230, 124.249495356;
7.214927236, 124.249495587; 7.214927242, 124.249495818; 7.214927248, 124.249496049;
7.214927254, 124.249496280; 7.214927260, 124.249496511; 7.214927266, 124.249496742;
7.214927272, 124.249496973; 7.214927278, 124.249497204; 7.214927284, 124.249497435;
7.214927290, 124.249497666;
7.214927296, 124.249497897;
7.214927302, 124.249498128;
7.214927308, 124.249498359;
7.214927314, 124.249498590;
7.214927320, 124.249498821;
7.214927326, 124.249499052;
7.214927332, 124.249499283;
7.214927338, 124.249499514;
7.214927344, 124.249499745;
7.214927350, 124.249499976;
7.214927356, 124.249500207;
7.214927362, 124.249500438;
7.214927368, 124.249500669;
7.214927374, 124.249500900;
7.214927380, 124.249501131;
7.214927386, 124.249501362;
7.214927392, 124.249501593;
7.214927398, 124.249501824;
7.214927404, 124.249502055;
7.214927410, 124.249502286;
7.214927416, 124.249502517;
7.214927422, 124.249502748;
7.214927428, 124.249502979;
7.214927434, 124.249503210;
7.214927440, 124.249503441;
7.214927446, 124.249503672;
7.214927452, 124.249503903;
7.214927458, 124.249504134;
7.214927464, 124.249504365;
7.214927470, 124.249504596;
7.214927476, 124.249504827;
7.214927482, 124.249505058;
7.214927488, 124.249505289;
7.214927494, 124.249505520;
7.214927500, 124.249505751;
7.214927506, 124.249505982;
7.214927512, 124.249506213;
7.214927518, 124.249506444;
7.214927524, 124.249506675;
7.214927530, 124.249506906;
7.214927536, 124.249507137;
7.214927542, 124.249507368;
7.214927548, 124.249507599;
7.214927554, 124.249507830;
7.214927560, 124.249508061;
7.214927566, 124.249508292;
7.214927572, 124.249508523;
7.214927578, 124.249508754;
7.214927584, 124.249508985;
7.214927590, 124.249509216;
7.214927596, 124.249509447;
7.214927602, 124.249509678;
7.214927608, 124.249509909;
7.214927614, 124.249510140;
7.214927620, 124.249510371;
7.214927626, 124.249510602;
7.214927632, 124.249510833;
7.214927638, 124.249511064;
7.214927644, 124.249511295;
7.214927650, 124.249511526;
7.214927656, 124.249511757;
7.214927662, 124.249511988;
7.214927668, 124.249512219;
7.214927674, 124.249512450;
7.214927680, 124.249512681;
7.214927686, 124.249512912;
7.214927692, 124.249513143;
7.214927698, 124.249513374;
7.214927704, 124.249513605;
7.214927710, 124.249513836;
7.214927716, 124.249514067;
7.214927722, 124.249514298;
7.214927728, 124.249514529;
7.214927734, 124.249514760;
7.214927740, 124.249514991;
7.214927746, 124.249515222;
7.214927752, 124.249515453;
7.214927758, 124.249515684;
7.214927764, 124.249515915;
7.214927770, 124.249516146;
7.214927776, 124.249516377;
7.214927782, 124.249516608;
7.214927788, 124.249516839;
7.214927794, 124.249517070;
7.214927800, 124.249517301;
7.214927806, 124.249517532;
7.214927812, 124.249517763;
7.214927818, 124.249517994;
7.214927824, 124.249518225;
7.214927830, 124.249518456;
7.214927836, 124.249518687;
7.214927842, 124.249518918;
7.214927848, 124.249519149;
7.214927854, 124.249519380;
7.214927860, 124.249519611;
7.214927866, 124.249519842;
7.214927872, 124.249520073;
7.214927878, 124.249520304;
7.214927884, 124.249520535;
7.214927890, 124.249520766;
7.214927896, 124.249520997;
7.214927902, 124.249521228;
7.214927908, 124.249521459;
7.214927914, 124.249521690;
7.214927920, 124.249521921;
7.214927926, 124.249522152;
7.214927932, 124.249522383;
7.214927938, 124.249522614;
7.214927944, 124.249522845;
7.214927950, 124.249523076;
7.214927956, 124.249523307;
7.214927962, 124.249523538;
7.214927968, 124.249523769;
7.214927974, 124.249524000;
7.214927980, 124.249524231;
7.214927986, 124.249524462;
7.214927992, 124.249524693;
7.214927998, 124.249524924;
7.214928004, 124.249525155;
7.214928010, 124.249525386;
7.214928016, 124.249525617;
7.214928022, 124.249525848;
7.214928028, 124.249526079;
7.214928034, 124.249526310;
7.214928040, 124.249526541;
7.214928046, 124.249526772;
7.214928052, 124.249527003;
7.214928058, 124.249527234;
7.214928064, 124.249527465;
7.214928070, 124.249527696;
7.214928076, 124.249527927;
7.214928082, 124.249528158;
7.214928088, 124.249528389;
7.214928094, 124.249528620;
7.214928100, 124.249528851;
7.214928106, 124.249529082;
7.214928112, 124.249529313;
7.214928118, 124.249529544;
7.214928124, 124.249529775;
7.214928130, 124.249530006;
7.214928136, 124.249530237;
7.214928142, 124.249530468;
7.214928148, 124.249530699;
7.214928154, 124.249530930;
7.214928160, 124.249531161;
7.214928166, 124.249531392;
7.214928172, 124.249531623;
7.214928178, 124.249531854;
7.214928184, 124.249532085;
7.214928190, 124.249532316;
7.214928196, 124.249532547;
7.214928202, 124.249532778;
7.214928208, 124.249533009;
7.214928214, 124.249533240;
7.214928220, 124.249533471;
7.214928226, 124.249533702;
7.214928232, 124.249533933;
7.214928238, 124.249534164;
7.214928244, 124.249534395;
7.214928250, 124.249534626;
7.214928256, 124.249534857;
7.214928262, 124.249535088;
7.214928268, 124.249535319;
7.214928274, 124.249535550;
7.214928280, 124.249535781;
7.214928286, 124.249536012;
7.214928292, 124.249536243;
7.214928298, 124.249536474;
7.214928304, 124.249536705;
7.214928310, 124.249536936;
7.214928316, 124.249537167;
7.214928322, 124.249537398;
7.214928328, 124.249537629;
7.214928334, 124.249537860;
7.214928340, 124.249538091;
7.214928346, 124.249538322;
7.214928352, 124.249538553;
7.214928358, 124.249538784;
7.214928364, 124.249539015;
7.214928370, 124.249539246;
7.214928376, 124.249539477;
7.214928382, 124.249539708;
7.214928388, 124.249539939;
7.214928394, 124.249540170;
7.214928400, 124.249540401;
7.214928406, 124.249540632;
7.214928412, 124.249540863;
7.214928418, 124.249541094;
7.214928424, 124.249541325;
7.214928430, 124.249541556;
7.214928436, 124.249541787;
7.214928442, 124.249542018;
7.214928448, 124.249542249;
7.214928454, 124.249542480;
7.214928460, 124.249542711;
7.214928466, 124.249542942;
7.214928472, 124.249543173;
7.214928478, 124.249543404;
7.214928484, 124.249543635;
7.214928490, 124.249543866;
7.214928496, 124.249544097;
7.214928502, 124.249544328;
7.214928508, 124.249544559;
7.214928514, 124.249544790;
7.214928520, 124.249545021;
7.214928526, 124.249545252;
7.214928532, 124.249545483;
7.214928538, 124.249545714;
7.214928544, 124.249545945;
7.214928550, 124.249546176;
7.214928556, 124.249546407;
7.214928562, 124.249546638;
7.214928568, 124.249546869;
7.214928574, 124.249547100;
7.214928580, 124.249547331;
7.214928586, 124.249547562;
7.214928592, 124.249547793;
7.214928598, 124.249548024;
7.214928604, 124.249548255;
7.214928610, 124.249548486;
7.214928616, 124.249548717;
7.214928622, 124.249548948;
7.214928628, 124.249549179;
7.214928634, 124.249549410;
7.214928640, 124.249549641;
7.214928646, 124.249549872;
7.214928652, 124.249550103;
7.214928658, 124.249550334;
7.214928664, 124.249550565;
7.214928670, 124.249550796;
7.214928676, 124.249551027;
7.214928682, 124.249551258;
7.214928688, 124.249551489;
7.214928694, 124.249551720;
7.214928700, 124.249551951;
7.214928706, 124.249552182;
7.214928712, 124.249552413;
7.214928718, 124.249552644;
7.214928724, 124.249552875;
7.214928730, 124.249553106;
7.214928736, 124.249553337;
7.214928742, 124.249553568;
7.214928748, 124.249553799;
7.214928754, 124.249554030;
7.214928760, 124.249554261;
7.214928766, 124.249554492;
7.214928772, 124.249554723;
7.214928778, 124.249554954;
7.214928784, 124.249555185;
7.214928790, 124.249555416;
7.214928796, 124.249555647;
7.214928802, 124.249555878;
7.214928808, 124.249556109;
7.214928814, 124.249556340;
7.214928820, 124.249556571;
7.214928826, 124.249556802;
7.214928832, 124.249557033;
7.214928838, 124.249557264;
7.214928844, 124.249557495;
7.214928850, 124.249557726;
7.214928856, 124.249557957;
7.214928862, 124.249558188;
7.214928868, 124.249558419;
7.214928874, 124.249558650;
7.214928880, 124.249558881;
7.214928886, 124.249559112;
7.214928892, 124.249559343;
7.214928898, 124.249559574;
7.214928904, 124.249559805;
7.214928910, 124.249560036;
7.214928916, 124.249560267;
7.214928922, 124.249560498;
7.214928928, 124.249560729;
7.214928934, 124.249560960;
7.214928940, 124.249561191;
7.214928946, 124.249561422;
7.214928952, 124.249561653;
7.214928958, 124.249561884;
7.214928964, 124.249562115;
7.214928970, 124.249562346;
7.214928976, 124.249562577;
7.214928982, 124.249562808;
7.214928988, 124.249563039;
7.214928994, 124.249563270;
7.214929000, 124.249563501;
7.214929006, 124.249563732;
7.214929012, 124.249563963;
7.214929018, 124.249564194;
7.214929024, 124.249564425;
7.214929030, 124.249564656;
7.214929036, 124.249564887;
7.214929042, 124.249565118;
7.214929048, 124.249565349;
7.214929054, 124.249565580;
7.214929060, 124.249565811;
7.214929066, 124.249566042;
7.214929072, 124.249566273;
7.214929078, 124.249566504;
7.214929084, 124.249566735;
7.214929090, 124.249566966;
7.214929096, 124.249567197;
7.214929102, 124.249567428;
7.214929108, 124.249567659;
7.214929114, 124.249567890;
7.214929120, 124.249568121;
7.214929126, 124.249568352;
7.214929132, 124.249568583;
7.214929138, 124.249568814;
7.214929144, 124.249569045;
7.214929150, 124.249569276;
7.214929156, 124.249569507;
7.214929162, 124.249569738;
7.214929168, 124.249569969;
7.214929174, 124.249570200;
7.214929180, 124.249570431;
7.214929186, 124.249570662;
7.214929192, 124.249570893;
7.214929198, 124.249571124;
7.214929204, 124.249571355;
7.214929210, 124.249571586;
7.214929216, 124.249571817;
7.214929222, 124.249572048;
7.214929228, 124.249572279;
7.214929234, 124.249572510;
7.214929240, 124.249572741;
7.214929246, 124.249572972;
7.214929252, 124.249573203;
7.214929258, 124.249573434;
7.214929264, 124.249573665;
7.214929270, 124.249573896;
7.214929276, 124.249574127;
7.214929282, 124.249574358;
7.214929288, 124.249574589;
7.214929294, 124.249574820;
7.214929300, 124.249575051;
7.214929306, 124.249575282;
7.214929312, 124.249575513;
7.214929318, 124.249575744;
7.214929324, 124.249575975;
7.214929330, 124.249576206;
7.214929336, 124.249576437;
7.214929342, 124.249576668;
7.214929348, 124.249576899;
7.214929354, 124.249577130;
7.214929360, 124.249577361;
7.214929366, 124.249577592;
7.214929372, 124.249577823;
7.214929378, 124.249578054;
7.214929384, 124.249578285;
7.214929390, 124.249578516;
7.214929396, 124.249578747;
7.214929402, 124.249578978;
7.214929408, 124.249579209;
7.214929414, 124.249579440;
7.214929420, 124.249579671;
7.214929426, 124.249579902;
7.214929432, 124.249580133;
7.214929438, 124.249580364;
7.214929444, 124.249580595;
7.214929450, 124.249580826;
7.214929456, 124.249581057;
7.214929462, 124.249581288;
7.214929468, 124.249581519;
7.214929474, 124.249581750;
7.214929480, 124.249581981;
7.214929486, 124.249582212;
7.214929492, 124.249582443;
7.214929498, 124.249582674;
7.214929504, 124.249582905;
7.214929510, 124.249583136;
7.214929516, 124.249583367;
7.214929522, 124.249583598;
7.214929528, 124.249583829;
7.214929534, 124.249584060;
7.214929540, 124.249584291;
7.214929546, 124.249584522;
7.214929552, 124.249584753;
7.214929558, 124.249584984;
7.214929564, 124.249585215;
7.214929570, 124.249585446;
7.214929576, 124.249585677;
7.214929582, 124.249585908;
7.214929588, 124.249586139;
7.214929594, 124.249586370;
7.214929600, 124.249586601;
7.214929606, 124.249586832;
7.214929612, 124.249587063;
7.214929618, 124.249587294;
7.214929624, 124.249587525;
7.214929630, 124.249587756;
7.214929636, 124.249587987;
7.214929642, 124.249588218;
7.214929648, 124.249588449;
7.214929654, 124.249588680;
7.214929660, 124.249588911;
7.214929666, 124.249589142;
7.214929672, 124.249589373;
7.214929678, 124.249589604;
7.214929684, 124.249589835;
7.214929690, 124.249590066;
7.214929696, 124.249590297;
7.214929702, 124.249590528;
7.214929708, 124.249590759;
7.214929714, 124.249590990;
7.214929720, 124.249591221;
7.214929726, 124.249591452;
7.214929732, 124.249591683;
7.214929738, 124.249591914;
7.214929744, 124.249592145;
7.214929750, 124.249592376;
7.214929756, 124.249592607;
7.214929762, 124.249592838;
7.214929768, 124.249593069;
7.214929774, 124.249593300;
7.214929780, 124.249593531;
7.214929786, 124.249593762;
7.214929792, 124.249593993;
7.214929798, 124.249594224;
7.214929804, 124.249594455;
7.214929810, 124.249594686;
7.214929816, 124.249594917;
7.214929822, 124.249595148;
7.214929828, 124.249595379;
7.214929834, 124.249595610;
7.214929840, 124.249595841;
7.214929846, 124.249596072;
7.214929852, 124.249596303;
7.214929858, 124.249596534;
7.214929864, 124.249596765;
7.214929870, 124.249596996;
7.214929876, 124.249597227;
7.214929882, 124.249597458;
7.214929888, 124.249597689;
7.214929894, 124.249597920;
7.214929900, 124.249598151;
7.214929906, 124.249598382;
7.214929912, 124.249598613;
7.214929918, 124.249598844;
7.214929924, 124.249599075;
7.214929930, 124.249599306;
7.214929936, 124.249599537;
7.214929942, 124.249599768;
7.214929948, 124.249599999;
7.214929954, 124.249600230;
7.214929960, 124.249600461;
7.214929966, 124.249600692;
7.214929972, 124.249600923;
7.214929978, 124.249601154;
7.214929984, 124.249601385;
7.214929990, 124.249601616;
7.214929996, 124.249601847;
7.214930002, 124.249602078;
7.214930008, 124.249602309;
7.214930014, 124.249602540;
7.214930020, 124.249602771;
7.214930026, 124.249603002;
7.214930032, 124.249603233;
7.214930038, 124.249603464;
7.214930044, 124.249603695;
7.214930050, 124.249603926;
7.214930056, 124.249604157;
7.214930062, 124.249604388;
7.214930068, 124.249604619;
7.214930074, 124.249604850;
7.214930080, 124.249605081;
7.214930086, 124.249605312;
7.214930092, 124.249605543;
7.214930098, 124.249605774;
7.214930104, 124.249606005;
7.214930110, 124.249606236;
7.214930116, 124.249606467;
7.214930122, 124.249606698;
7.214930128, 124.249606929;
7.214930134, 124.249607160;
7.214930140, 124.249607391;
7.214930146, 124.249607622;
7.214930152, 124.249607853;
7.214930158, 124.249608084;
7.214930164, 124.249608315;
7.214930170, 124.249608546;
7.214930176, 124.249608777;
7.214930182, 124.249609008;
7.214930188, 124.249609239;
7.214930194, 124.249609470;
7.214930200, 124.249609701;
7.214930206, 124.249609932;
7.214930212, 124.249610163;
7.214930218, 124.249610394;
7.214930224, 124.249610625;
7.214930230, 124.249610856;
7.214930236, 124.249611087;
7.214930242, 124.249611318;
7.214930248, 124.249611549;
7.214930254, 124.249611780;
7.214930260, 124.249612011;
7.214930266, 124.249612242;
7.214930272, 124.249612473;
7.214930278, 124.249612704;
7.214930284, 124.249612935;
7.214930290, 124.249613166;
7.214930296, 124.249613397;
7.214930302, 124.249613628;
7.214930308, 124.249613859;
7.214930314, 124.249614090;
7.214930320, 124.249614321;
7.214930326, 124.249614552;
7.214930332, 124.249614783;
7.214930338, 124.249615014;
7.214930344, 124.249615245;
7.214930350, 124.249615476;
7.214930356, 124.249615707;
7.214930362, 124.249615938;
7.214930368, 124.249616169;
7.214930374, 124.249616400;
7.214930380, 124.249616631;
7.214930386, 124.249616862;
7.214930392, 124.249617093;
7.214930398, 124.249617324;
7.214930404, 124.249617555;
7.214930410, 124.249617786;
            ];
            
            obj.CurrentWaypointIndex = 1;
            obj.Running = false;
            obj.PositionHistory = [];
            obj.LastPositionTime = datetime('now');
            
            % Initialize fuzzy logic system
            try
                if ~exist('path_following.fis', 'file')
                    obj.createFuzzySystem();
                end
                obj.FuzzySystem = readfis('path_following.fis');
            catch ME
                error('Failed to initialize fuzzy system: %s', ME.message);
            end
            
            % Initialize map visualization
            obj.initializeMap();
            
            disp('Robot initialized and ready to run');
        end
        
        function createFuzzySystem(obj)
            % Create new FIS
            fis = mamfis('Name', 'path_following');
            
            % Add distance_error input (3 membership functions)
            fis = addInput(fis, [0 5], 'Name', 'distance_error');
            fis = addMF(fis, 'distance_error', 'trimf', [0 0 2.5], 'Name', 'Close');
            fis = addMF(fis, 'distance_error', 'trimf', [0.5 2.5 4.5], 'Name', 'Medium');
            fis = addMF(fis, 'distance_error', 'trimf', [2.5 5 5], 'Name', 'Far');
            
            % Add heading_error input (3 membership functions)
            fis = addInput(fis, [-180 180], 'Name', 'heading_error');
            fis = addMF(fis, 'heading_error', 'trimf', [-180 -180 -45], 'Name', 'Left');
            fis = addMF(fis, 'heading_error', 'trimf', [-90 0 90], 'Name', 'Straight');
            fis = addMF(fis, 'heading_error', 'trimf', [45 180 180], 'Name', 'Right');
            
            % Add pwm_left output (5 membership functions for finer control)
            fis = addOutput(fis, [-obj.MaxPWM obj.MaxPWM], 'Name', 'pwm_left');
            fis = addMF(fis, 'pwm_left', 'trimf', [-obj.MaxPWM -obj.MaxPWM -obj.MaxPWM/2], 'Name', 'FullReverse');
            fis = addMF(fis, 'pwm_left', 'trimf', [-obj.MaxPWM -obj.MaxPWM/2 0], 'Name', 'HalfReverse');
            fis = addMF(fis, 'pwm_left', 'trimf', [-obj.MaxPWM/4 0 obj.MaxPWM/4], 'Name', 'Stop');
            fis = addMF(fis, 'pwm_left', 'trimf', [0 obj.MaxPWM/2 obj.MaxPWM], 'Name', 'HalfForward');
            fis = addMF(fis, 'pwm_left', 'trimf', [obj.MaxPWM/2 obj.MaxPWM obj.MaxPWM], 'Name', 'FullForward');
            
            % Add pwm_right output (same as pwm_left)
            fis = addOutput(fis, [-obj.MaxPWM obj.MaxPWM], 'Name', 'pwm_right');
            fis = addMF(fis, 'pwm_right', 'trimf', [-obj.MaxPWM -obj.MaxPWM -obj.MaxPWM/2], 'Name', 'FullReverse');
            fis = addMF(fis, 'pwm_right', 'trimf', [-obj.MaxPWM -obj.MaxPWM/2 0], 'Name', 'HalfReverse');
            fis = addMF(fis, 'pwm_right', 'trimf', [-obj.MaxPWM/4 0 obj.MaxPWM/4], 'Name', 'Stop');
            fis = addMF(fis, 'pwm_right', 'trimf', [0 obj.MaxPWM/2 obj.MaxPWM], 'Name', 'HalfForward');
            fis = addMF(fis, 'pwm_right', 'trimf', [obj.MaxPWM/2 obj.MaxPWM obj.MaxPWM], 'Name', 'FullForward');
            
            % Rule Base for 255 PWM range
            ruleList = [
            1  1  5  1  1  1;  % If Close and Left, then FullForward Left and FullReverse Right
            1  2  4  4  1  1;  % If Close and Straight, then HalfForward both
            1  3  1  5  1  1;  % If Close and Right, then FullReverse Left and FullForward Right
            
            2  1  5  3  1  1;  % If Medium and Left, then FullForward Left and Stop Right
            2  2  5  5  1  1;  % If Medium and Straight, then FullForward both
            2  3  3  5  1  1;  % If Medium and Right, then Stop Left and FullForward Right
            
            3  1  5  2  1  1;  % If Far and Left, then FullForward Left and HalfReverse Right
            3  2  5  5  1  1;  % If Far and Straight, then FullForward both
            3  3  2  5  1  1;  % If Far and Right, then HalfReverse Left and FullForward Right
            ];
            
            fis = addRule(fis, ruleList);
            
            % Save FIS
            writeFIS(fis, 'path_following');
            
            % Plot membership functions
            figure;
            subplot(2,2,1); plotmf(fis, 'input', 1); title('Distance Error');
            subplot(2,2,2); plotmf(fis, 'input', 2); title('Heading Error');
            subplot(2,2,3); plotmf(fis, 'output', 1); title('PWM Left');
            subplot(2,2,4); plotmf(fis, 'output', 2); title('PWM Right');
            
            % Plot rule surface
            figure;
            gensurf(fis);
            title('Control Surface');
        end
        
        function initializeMap(obj)
            obj.MapFigure = figure('Name', 'Robot Path Monitoring', 'NumberTitle', 'off');
            
            [lat, lon] = obj.convertToNumeric(obj.Waypoints);
            obj.WaypointPlot = geoplot(lat, lon, 'g-', 'LineWidth', 2);
            hold on;
            obj.WaypointPlot = geoscatter(lat, lon, 'filled', 'MarkerFaceColor', 'red');
            
            obj.PathPlot = geoplot(lat(1), lon(1), 'b-', 'LineWidth', 1.5);
            obj.RobotPlot = geoscatter(lat(1), lon(1), 100, 'filled', 'MarkerFaceColor', 'blue');
            
            geobasemap('satellite');
            title('Robot Path Monitoring');
            legend('Planned Path', 'Waypoints', 'Robot Path', 'Robot Position');
            drawnow;
        end
        
        function [lat, lon] = convertToNumeric(~, waypoints)
            lat = waypoints(:,1);
            lon = waypoints(:,2);
        end
        
        function updateMap(obj, currentLat, currentLon)
            xData = obj.PathPlot.XData;
            yData = obj.PathPlot.YData;
            
            obj.PathPlot.XData = [xData, currentLat];
            obj.PathPlot.YData = [yData, currentLon];
            obj.PositionHistory = [obj.PositionHistory; currentLat, currentLon];
            
            obj.RobotPlot.LatitudeData = currentLat;
            obj.RobotPlot.LongitudeData = currentLon;
            
            targetLat = obj.Waypoints(obj.CurrentWaypointIndex, 1);
            targetLon = obj.Waypoints(obj.CurrentWaypointIndex, 2);
            geoscatter(targetLat, targetLon, 100, 'filled', 'MarkerFaceColor', 'yellow');
            
            latLim = [min([currentLat; obj.Waypoints(:,1)])-0.0001, max([currentLat; obj.Waypoints(:,1)])+0.0001];
            lonLim = [min([currentLon; obj.Waypoints(:,2)])-0.0001, max([currentLon; obj.Waypoints(:,2)])+0.0001];
            geolimits(latLim, lonLim);
            
            drawnow;
        end
        
        function start(obj)
            obj.Running = true;
            obj.run();
        end
        
        function stop(obj)
            obj.Running = false;
            % Send stop command to robot
            writeline(obj.SerialPort, "CMD:0,0");
        end
        
        function run(obj)
            while obj.Running
                if obj.SerialPort.NumBytesAvailable > 0
                    data = readline(obj.SerialPort);
                    
                    if startsWith(data, "GPS:")
                        try
                            gpsData = sscanf(data, "GPS:%f,%f,%f,%f");
                            if length(gpsData) == 4
                                currentLat = gpsData(1);
                                currentLon = gpsData(2);
                                speed = gpsData(3);
                                heading = gpsData(4);
                                
                                obj.updateMap(currentLat, currentLon);
                                
                                % Calculate distance to current waypoint
                                target = obj.Waypoints(obj.CurrentWaypointIndex, :);
                                distance = obj.calculateDistance(currentLat, currentLon, target(1), target(2));
                                
                                % Check if reached waypoint with dynamic threshold
                                if distance < 0.5  % 0.5 meter threshold
                                    obj.CurrentWaypointIndex = min(obj.CurrentWaypointIndex + 1, size(obj.Waypoints, 1));
                                    if obj.CurrentWaypointIndex == size(obj.Waypoints, 1)
                                        obj.stop();
                                        disp('Final waypoint reached!');
                                        return;
                                    end
                                end
                                
                                % Calculate bearing and error
                                bearing = obj.calculateBearing(currentLat, currentLon, target(1), target(2));
                                headingError = obj.wrapTo180(bearing - heading);
                                
                                % Fuzzy logic control
                                try
                                    inputs = [distance, headingError];
                                    outputs = evalfis(obj.FuzzySystem, inputs);
                                    
                                    % Scale outputs to 255 range
                                    leftPWM = round(outputs(1) * (obj.MaxPWM/100);
                                    rightPWM = round(outputs(2) * (obj.MaxPWM/100);
                                    
                                    % Constrain PWM values
                                    leftPWM = max(-obj.MaxPWM, min(obj.MaxPWM, leftPWM));
                                    rightPWM = max(-obj.MaxPWM, min(obj.MaxPWM, rightPWM));
                                    
                                    % Send motor commands
                                    cmdStr = sprintf("CMD:%d,%d", leftPWM, rightPWM);
                                    writeline(obj.SerialPort, cmdStr);
                                catch ME
                                    fprintf('Fuzzy logic error: %s\n', ME.message);
                                    writeline(obj.SerialPort, "CMD:0,0");
                                end
                            end
                        catch ME
                            fprintf('Error processing GPS data: %s\n', ME.message);
                        end
                    end
                end
                pause(0.1);
            end
        end
        
        function distance = calculateDistance(~, lat1, lon1, lat2, lon2)
            R = 6371000; % Earth radius in meters
            dLat = deg2rad(lat2-lat1);
            dLon = deg2rad(lon2-lon1);
            a = sin(dLat/2) * sin(dLat/2) + ...
                cos(deg2rad(lat1)) * cos(deg2rad(lat2)) * ...
                sin(dLon/2) * sin(dLon/2);
            c = 2 * atan2(sqrt(a), sqrt(1-a));
            distance = R * c;
        end
        
        function bearing = calculateBearing(~, lat1, lon1, lat2, lon2)
            lat1 = deg2rad(lat1);
            lon1 = deg2rad(lon1);
            lat2 = deg2rad(lat2);
            lon2 = deg2rad(lon2);
            
            y = sin(lon2-lon1) * cos(lat2);
            x = cos(lat1)*sin(lat2) - sin(lat1)*cos(lat2)*cos(lon2-lon1);
            bearing = rad2deg(atan2(y, x));
        end
        
        function angle = wrapTo180(~, angle)
            angle = mod(angle + 180, 360) - 180;
        end
        
        function delete(obj)
            if obj.Running
                obj.stop();
            end
            clear obj.SerialPort;
        end
    end
end
